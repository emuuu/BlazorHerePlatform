@inject IDocContentService ContentService
@inject NavigationManager Navigation

<div class="nav-menu p-3">
    @foreach (var section in ContentService.GetNavSections())
    {
        <h6 class="nav-section-title text-uppercase text-muted fw-bold mt-3 mb-2">@(section.Category)</h6>
        <ul class="nav flex-column">
            @foreach (var item in section.Items)
            {
                var href = $"docs/{item.Slug}";
                <li class="nav-item">
                    <NavLink class="nav-link py-1" href="@href" Match="NavLinkMatch.All"
                             @onclick="() => OnNavigate.InvokeAsync()">
                        @item.Title
                    </NavLink>
                </li>
            }
        </ul>
    }

    <h6 class="nav-section-title text-uppercase text-muted fw-bold mt-3 mb-2">Demos</h6>
    <ul class="nav flex-column">
        <li class="nav-item">
            <NavLink class="nav-link py-1" href="demo" Match="NavLinkMatch.All"
                     @onclick="() => OnNavigate.InvokeAsync()">
                Overview
            </NavLink>
        </li>
    </ul>

    <h6 class="nav-subsection-title text-muted fw-semibold mt-2 mb-1" style="font-size:.75rem;padding-left:.5rem;">Map Basics</h6>
    <ul class="nav flex-column">
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-basic" @onclick="() => OnNavigate.InvokeAsync()">Basic Map</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-controls" @onclick="() => OnNavigate.InvokeAsync()">Map Controls</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-enhancements" @onclick="() => OnNavigate.InvokeAsync()">Enhancements</NavLink></li>
    </ul>

    <h6 class="nav-subsection-title text-muted fw-semibold mt-2 mb-1" style="font-size:.75rem;padding-left:.5rem;">Map Objects</h6>
    <ul class="nav flex-column">
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-markers" @onclick="() => OnNavigate.InvokeAsync()">Markers</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-shapes" @onclick="() => OnNavigate.InvokeAsync()">Shapes</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-infobubble" @onclick="() => OnNavigate.InvokeAsync()">InfoBubble</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-groups" @onclick="() => OnNavigate.InvokeAsync()">Groups</NavLink></li>
    </ul>

    <h6 class="nav-subsection-title text-muted fw-semibold mt-2 mb-1" style="font-size:.75rem;padding-left:.5rem;">Data &amp; Visualization</h6>
    <ul class="nav flex-column">
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-clustering" @onclick="() => OnNavigate.InvokeAsync()">Clustering</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-data" @onclick="() => OnNavigate.InvokeAsync()">Data Import</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-heatmap" @onclick="() => OnNavigate.InvokeAsync()">Heatmap</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-traffic" @onclick="() => OnNavigate.InvokeAsync()">Traffic</NavLink></li>
    </ul>

    <h6 class="nav-subsection-title text-muted fw-semibold mt-2 mb-1" style="font-size:.75rem;padding-left:.5rem;">Services</h6>
    <ul class="nav flex-column">
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-routing" @onclick="() => OnNavigate.InvokeAsync()">Routing</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-geocoding" @onclick="() => OnNavigate.InvokeAsync()">Geocoding</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-autosuggest" @onclick="() => OnNavigate.InvokeAsync()">Autosuggest</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-matrix-routing" @onclick="() => OnNavigate.InvokeAsync()">Matrix Routing</NavLink></li>
    </ul>

    <h6 class="nav-subsection-title text-muted fw-semibold mt-2 mb-1" style="font-size:.75rem;padding-left:.5rem;">UI &amp; Utilities</h6>
    <ul class="nav flex-column">
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-ui-controls" @onclick="() => OnNavigate.InvokeAsync()">UI Controls</NavLink></li>
        <li class="nav-item"><NavLink class="nav-link py-1" href="demo/map-utilities" @onclick="() => OnNavigate.InvokeAsync()">Utilities</NavLink></li>
    </ul>
</div>

@code {
    [Parameter] public EventCallback OnNavigate { get; set; }
}
